<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>Login</title>
        <link rel="stylesheet"  type="text/css" href="ASSIGNMENT.css">
    </head>
    <body>
       <div id="modal" style="position: fixed; left: 0; top: 0; z-index: 999; height: 100%; width: 100%; display: none; justify-content: center; align-items: center; background-color: rgba(0, 0, 0, 0.5); backdrop-filter: blur(10px);">
        <div style="background-color: white; padding: 25px; position: relative; border-radius: 5px;">
          <span id="close" style="position: absolute; top: 2px; right: 4px; cursor: pointer; font-size: 25px; color: black; " >&times;</span>
          <p id="modal-content" style="color: black;"></p>
        </div>
      </div>
      <form id="form">
        <h1 id="page">Log in</h1><br>
        <h3 id="welcome"><marquee>Welcome back!</marquee></h3>
        <input type="email" placeholder="  Enter your email"  id="email" ><br>
        <p id="mailpass" style="color: red; background: white; font-size: small;"></p><br>
        <input type="password" placeholder=" Password"  id="password" minlength="8" maxlength="8" ><br>
        <p id="passtext" style="color: red; background: white; font-size: small;"></p><br>
        <button type="submit" id="login">Log in</button><br>
        <p><h3 id="forgot">Forgot password?</h3></p>
        <p id="dvd"><div id="spann"></div><h3 id="or">Or</h3><div id="span"></div></p> 
        <button id="btns"><a href="https://google.com" target="_blank"></a>Log in with Google</button><br>
        <button id="btons"><a href="https://apple.com" target="_blank"></a>Log in with Apple</button><br>
      </form>

    <script >
    console.log("My script is running");
    let form = 
    document.getElementById("form");
    let modal =
    document.getElementById("modal");
    let modalContent =
    document.getElementById("modal-content");
    let email = 
    document.getElementById("email");
    let closeModal =
    document.getElementById("close");
    let password =
    document.getElementById("password");
    let mail =
    document.getElementById("mailpass");
    let pass =
    document.getElementById("passtext");

    function showPopup(message) {
  modalContent.textContent = message;
  modal.style.display = 'flex';
}
function hidePopup() {
  modal.style.display = "none";
}
closeModal.addEventListener("click", hidePopup);
window.onclick = (e) => {
  if (e.target === modal) {
    modal.style.display = 'none';
  }
}

    form.addEventListener("submit", function(e) {
      e.preventDefault();
      mail.textContent = "";
      pass.textContent = "";
      // popupMessage.textContent = "";
      console.log("my button was clicked");
    if (password.value.trim() === "" && email.value.trim() === "") {
      showPopup("Complete your entry to proceed.");
      return;
    }        
    else if (email.value.trim() === "") {
      mail.textContent = ("Error  ❌ ! Please input a valid email address to proceed.");
      console.log(email.value.trim);
      return;
    }
    else if (password.value.trim() === "") {
      pass.textContent = ("Error  ❌ ! Input a valid password.");
      console.log(password.value.trim);
      return;
    }
    else if (!/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[!@#$%^&*?]).{8}$/.test(password.value.trim())) {   
      pass.textContent = ("Password must contain an uppercase, lowercase letter, a digit, a special character and a least 8 characters. ");
      return;
    }
    else {
    showPopup("Congratulations! you have submitted your entries successfully");
    form.reset();
    return;
    } 
    });
    </script>  
    </body>    
</html>
   